import{aa as E,ag as G,ab as N,b9 as P,r as h,i as J,c as g,ba as x,k as V,aj as $,q as B,z as I,E as _,A as F,bb as M,u as e,d as U,ar as y,aw as S,y as R,x as A,G as D,ay as w,n as T,v as ee,af as ae,aG as le,e as L,p as oe,a as j,aH as te,w as ne,ap as se,aA as ue,aZ as K,_ as re,b7 as de,j as f,t as k}from"./index-B5KTcbZa.js";import{u as W,U as z,C as ie,c as ve,d as be,e as X,a as pe,b as ce,E as fe}from"./index-U63yUTZa.js";const H=E({modelValue:{type:[String,Number,Boolean],default:void 0},size:W,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),me=E({...H,border:Boolean}),q={[z]:d=>G(d)||N(d)||P(d),[ie]:d=>G(d)||N(d)||P(d)},O=Symbol("radioGroupKey"),Q=(d,m)=>{const r=h(),l=J(O,void 0),v=g(()=>!!l),b=g(()=>x(d.value)?d.label:d.value),o=g({get(){return v.value?l.modelValue:d.modelValue},set(s){v.value?l.changeEvent(s):m&&m(z,s),r.value.checked=d.modelValue===b.value}}),p=ve(g(()=>l==null?void 0:l.size)),u=be(g(()=>l==null?void 0:l.disabled)),a=h(!1),n=g(()=>u.value||v.value&&o.value!==b.value?-1:0);return X({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},g(()=>v.value&&x(d.value))),{radioRef:r,isGroup:v,radioGroup:l,focus:a,size:p,disabled:u,tabIndex:n,modelValue:o,actualValue:b}},ge=["value","name","disabled"],ye=V({name:"ElRadio"}),he=V({...ye,props:me,emits:q,setup(d,{emit:m}){const r=d,l=$("radio"),{radioRef:v,radioGroup:b,focus:o,size:p,disabled:u,modelValue:a,actualValue:n}=Q(r,m);function s(){T(()=>m("change",a.value))}return(t,i)=>{var c;return B(),I("label",{class:y([e(l).b(),e(l).is("disabled",e(u)),e(l).is("focus",e(o)),e(l).is("bordered",t.border),e(l).is("checked",e(a)===e(n)),e(l).m(e(p))])},[_("span",{class:y([e(l).e("input"),e(l).is("disabled",e(u)),e(l).is("checked",e(a)===e(n))])},[F(_("input",{ref_key:"radioRef",ref:v,"onUpdate:modelValue":i[0]||(i[0]=C=>U(a)?a.value=C:null),class:y(e(l).e("original")),value:e(n),name:t.name||((c=e(b))==null?void 0:c.name),disabled:e(u),type:"radio",onFocus:i[1]||(i[1]=C=>o.value=!0),onBlur:i[2]||(i[2]=C=>o.value=!1),onChange:s,onClick:i[3]||(i[3]=S(()=>{},["stop"]))},null,42,ge),[[M,e(a)]]),_("span",{class:y(e(l).e("inner"))},null,2)],2),_("span",{class:y(e(l).e("label")),onKeydown:i[4]||(i[4]=S(()=>{},["stop"]))},[R(t.$slots,"default",{},()=>[A(D(t.label),1)])],34)],2)}}});var _e=w(he,[["__file","radio.vue"]]);const Ve=E({...H}),Ce=["value","name","disabled"],Se=V({name:"ElRadioButton"}),Ee=V({...Se,props:Ve,setup(d){const m=d,r=$("radio"),{radioRef:l,focus:v,size:b,disabled:o,modelValue:p,radioGroup:u,actualValue:a}=Q(m),n=g(()=>({backgroundColor:(u==null?void 0:u.fill)||"",borderColor:(u==null?void 0:u.fill)||"",boxShadow:u!=null&&u.fill?`-1px 0 0 0 ${u.fill}`:"",color:(u==null?void 0:u.textColor)||""}));return(s,t)=>{var i;return B(),I("label",{class:y([e(r).b("button"),e(r).is("active",e(p)===e(a)),e(r).is("disabled",e(o)),e(r).is("focus",e(v)),e(r).bm("button",e(b))])},[F(_("input",{ref_key:"radioRef",ref:l,"onUpdate:modelValue":t[0]||(t[0]=c=>U(p)?p.value=c:null),class:y(e(r).be("button","original-radio")),value:e(a),type:"radio",name:s.name||((i=e(u))==null?void 0:i.name),disabled:e(o),onFocus:t[1]||(t[1]=c=>v.value=!0),onBlur:t[2]||(t[2]=c=>v.value=!1),onClick:t[3]||(t[3]=S(()=>{},["stop"]))},null,42,Ce),[[M,e(p)]]),_("span",{class:y(e(r).be("button","inner")),style:ee(e(p)===e(a)?e(n):{}),onKeydown:t[4]||(t[4]=S(()=>{},["stop"]))},[R(s.$slots,"default",{},()=>[A(D(s.label),1)])],38)],2)}}});var Y=w(Ee,[["__file","radio-button.vue"]]);const Be=E({id:{type:String,default:void 0},size:W,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...ae(["ariaLabel"])}),Ie=q,ke=["id","aria-label","aria-labelledby"],$e=V({name:"ElRadioGroup"}),Re=V({...$e,props:Be,emits:Ie,setup(d,{emit:m}){const r=d,l=$("radio"),v=le(),b=h(),{formItem:o}=pe(),{inputId:p,isLabeledByFormItem:u}=ce(r,{formItemContext:o}),a=s=>{m(z,s),T(()=>m("change",s))};L(()=>{const s=b.value.querySelectorAll("[type=radio]"),t=s[0];!Array.from(s).some(i=>i.checked)&&t&&(t.tabIndex=0)});const n=g(()=>r.name||v.value);return oe(O,j({...te(r),changeEvent:a,name:n})),ne(()=>r.modelValue,()=>{r.validateEvent&&(o==null||o.validate("change").catch(s=>se()))}),X({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-radio-group",ref:"https://element-plus.org/en-US/component/radio.html"},g(()=>!!r.label)),(s,t)=>(B(),I("div",{id:e(p),ref_key:"radioGroupRef",ref:b,class:y(e(l).b("group")),role:"radiogroup","aria-label":e(u)?void 0:s.label||s.ariaLabel||"radio-group","aria-labelledby":e(u)?e(o).labelId:void 0},[R(s.$slots,"default")],10,ke))}});var Z=w(Re,[["__file","radio-group.vue"]]);ue(_e,{RadioButton:Y,RadioGroup:Z});const we=K(Z),ze=K(Y),Ge=[{value:"01",label:"水泥工業"},{value:"02",label:"食品工業"},{value:"03",label:"塑膠工業"},{value:"04",label:"紡織纖維"},{value:"05",label:"電機機械"},{value:"06",label:"電器電纜"},{value:"08",label:"玻璃陶瓷"},{value:"09",label:"造紙工業"},{value:"10",label:"鋼鐵工業"},{value:"11",label:"橡膠工業"},{value:"12",label:"汽車工業"},{value:"14",label:"建材營造"},{value:"15",label:"航運業"},{value:"16",label:"觀光餐旅"},{value:"17",label:"金融保險"},{value:"18",label:"貿易百貨"},{value:"19",label:"綜合"},{value:"20",label:"其他"},{value:"21",label:"化學工業"},{value:"22",label:"生技醫療業"},{value:"23",label:"油電燃氣業"},{value:"24",label:"半導體業"},{value:"25",label:"電腦及週邊設備業"},{value:"26",label:"光電業"},{value:"27",label:"通信網路業"},{value:"28",label:"電子零組件業"},{value:"29",label:"電子通路業"},{value:"30",label:"資訊服務業"},{value:"31",label:"其他電子業"},{value:"32",label:"文化創意業"},{value:"33",label:"農業科技業"},{value:"34",label:"電子商務"},{value:"35",label:"綠能環保"},{value:"36",label:"數位雲端"},{value:"37",label:"運動休閒"},{value:"38",label:"居家生活"},{value:"80",label:"管理股票"}],Ne={style:{height:"100%"}},Pe={class:"mt-20 mb-20"},xe={style:{width:"100%",height:"80%"}},Fe="#FF5B5B",Me="#ff3737",Ue="#91F840",Ae="#6fda1a",De={__name:"heatMap",setup(d){const m=h(null),r=h(null),l=h("IX0001"),v=h("industry"),b=h(""),o=j({loading:!0,data:{}});L(async()=>{p()});const p=async()=>{o.loading=!0;let u=l.value;if(b.value&&(u+=`?period=${b.value}`),o.data=await de.Stock.getStockHeatMap(u),v.value=="industry")o.data.data.splice(0,1),o.data.data=o.data.data.filter(a=>a.type=="INDEX"),o.data.data=o.data.data.map(a=>({...a,name:`${a.name.replace("指數","").replace("櫃買","")}
${a.changePercent}%`,value:[a.tradeValue,a.changePercent]}));else{let a=o.data.data.filter(n=>n.type=="EQUITY");o.data.data=[],Ge.forEach(n=>{let s=a.filter(c=>n.value==c.industry),t=s.reduce((c,C)=>c+C.marketValueWeight,0),i={name:n.label,value:t};i.children=[...s],i.children=i.children.map(c=>({...c,name:`${c.name}
${c.changePercent}%`,value:[c.marketValueWeight,c.changePercent]})),o.data.data.push(i)})}r.value={series:[{name:"發行量加權股價指數",type:"treemap",data:o.data.data,visualDimension:1,upperLabel:{show:!0,height:30,backgroundColor:"#131313",textStyle:{color:"#ffffff",fontSize:14}},itemStyle:{borderColor:"#fff",gapWidth:.5}}],visualMap:{type:"continuous",min:b.value?-30:-10,max:b.value?30:10,inRange:{color:[Ue,Ae,"#007500","#3C3C3C","#750000",Me,Fe]},calculable:!0,orient:"horizontal",left:"10%"}},o.loading=!1};return(u,a)=>{const n=ze,s=we;return B(),I("div",Ne,[_("div",Pe,[f(s,{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=t=>l.value=t),size:"large",onChange:p},{default:k(()=>[f(n,{label:"上市",value:"IX0001"}),f(n,{label:"上櫃",value:"IX0043"})]),_:1},8,["modelValue"]),f(s,{modelValue:v.value,"onUpdate:modelValue":a[1]||(a[1]=t=>v.value=t),size:"large",class:"ml-5",onChange:p},{default:k(()=>[f(n,{label:"產業",value:"industry"}),f(n,{label:"個股",value:"stock"})]),_:1},8,["modelValue"]),f(s,{modelValue:b.value,"onUpdate:modelValue":a[2]||(a[2]=t=>b.value=t),size:"large",class:"ml-5",onChange:p},{default:k(()=>[f(n,{label:"盤中即時",value:""}),f(n,{label:"一週",value:"1w"}),f(n,{label:"一月",value:"1m"}),f(n,{label:"三月",value:"3m"}),f(n,{label:"六月",value:"6m"}),f(n,{label:"一年",value:"1y"}),f(n,{label:"年初至今",value:"ytd"})]),_:1},8,["modelValue"])]),_("div",xe,[f(e(fe),{ref_key:"chart",ref:m,option:r.value,loading:o.loading,autoresize:""},null,8,["option","loading"])])])}}},je=re(De,[["__scopeId","data-v-0f9d64a1"]]);export{je as default};
