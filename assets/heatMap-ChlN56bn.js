import{w as R,u as e,c as b,g as ne,L as se,i as _,r as m,M as k,N as M,e as C,O as T,P as ue,o as re,Q as E,R as F,S as U,U as A,V as L,k as S,W as w,q as z,z as B,E as y,A as K,X as W,d as X,I as g,Y as V,y as P,x as j,G as x,Z as N,n as O,v as ie,$ as de,p as ve,a as q,a0 as ce,a1 as pe,a2 as be,a3 as Y,_ as fe,a4 as me,j as h,t as D}from"./index-Mr1h6Nx2.js";import{E as ge}from"./index-DlK2wpvE.js";const G="update:modelValue",ye="change",he=["","default","small","large"],H=({from:l,replacement:o,scope:t,version:a,ref:d,type:s="API"},c)=>{R(()=>e(c),r=>{},{immediate:!0})},Q=l=>{const o=ne();return b(()=>{var t,a;return(a=(t=o==null?void 0:o.proxy)==null?void 0:t.$props)==null?void 0:a[l]})},Z=se({type:String,values:he,required:!1}),_e=Symbol("size"),Ie=()=>{const l=_(_e,{});return b(()=>e(l.size)||"")},Se=(l,o={})=>{const t=m(void 0),a=o.prop?t:Q("size"),d=o.global?t:Ie(),s=o.form?{size:void 0}:_(k,void 0),c=o.formItem?{size:void 0}:_(M,void 0);return b(()=>a.value||e(l)||(c==null?void 0:c.size)||(s==null?void 0:s.size)||d.value||"")},Ve=l=>{const o=Q("disabled"),t=_(k,void 0);return b(()=>o.value||e(l)||(t==null?void 0:t.disabled)||!1)},Ee=()=>{const l=_(k,void 0),o=_(M,void 0);return{form:l,formItem:o}},ze=(l,{formItemContext:o,disableIdGeneration:t,disableIdManagement:a})=>{t||(t=m(!1)),a||(a=m(!1));const d=m();let s;const c=b(()=>{var r;return!!(!(l.label||l.ariaLabel)&&o&&o.inputIds&&((r=o.inputIds)==null?void 0:r.length)<=1)});return C(()=>{s=R([ue(l,"id"),t],([r,n])=>{const v=r??(n?void 0:T().value);v!==d.value&&(o!=null&&o.removeInputId&&(d.value&&o.removeInputId(d.value),!(a!=null&&a.value)&&!n&&v&&o.addInputId(v)),d.value=v)},{immediate:!0})}),re(()=>{s&&s(),o!=null&&o.removeInputId&&d.value&&o.removeInputId(d.value)}),{isLabeledByFormItem:c,inputId:d}},J=E({modelValue:{type:[String,Number,Boolean],default:void 0},size:Z,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),Be=E({...J,border:Boolean}),ee={[G]:l=>F(l)||U(l)||A(l),[ye]:l=>F(l)||U(l)||A(l)},ae=Symbol("radioGroupKey"),le=(l,o)=>{const t=m(),a=_(ae,void 0),d=b(()=>!!a),s=b(()=>L(l.value)?l.label:l.value),c=b({get(){return d.value?a.modelValue:l.modelValue},set(i){d.value?a.changeEvent(i):o&&o(G,i),t.value.checked=l.modelValue===s.value}}),r=Se(b(()=>a==null?void 0:a.size)),n=Ve(b(()=>a==null?void 0:a.disabled)),v=m(!1),f=b(()=>n.value||d.value&&c.value!==s.value?-1:0);return H({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},b(()=>d.value&&L(l.value))),{radioRef:t,isGroup:d,radioGroup:a,focus:v,size:r,disabled:n,tabIndex:f,modelValue:c,actualValue:s}},$e=["value","name","disabled"],Re=S({name:"ElRadio"}),ke=S({...Re,props:Be,emits:ee,setup(l,{emit:o}){const t=l,a=w("radio"),{radioRef:d,radioGroup:s,focus:c,size:r,disabled:n,modelValue:v,actualValue:f}=le(t,o);function i(){O(()=>o("change",v.value))}return(u,p)=>{var I;return z(),B("label",{class:g([e(a).b(),e(a).is("disabled",e(n)),e(a).is("focus",e(c)),e(a).is("bordered",u.border),e(a).is("checked",e(v)===e(f)),e(a).m(e(r))])},[y("span",{class:g([e(a).e("input"),e(a).is("disabled",e(n)),e(a).is("checked",e(v)===e(f))])},[K(y("input",{ref_key:"radioRef",ref:d,"onUpdate:modelValue":p[0]||(p[0]=$=>X(v)?v.value=$:null),class:g(e(a).e("original")),value:e(f),name:u.name||((I=e(s))==null?void 0:I.name),disabled:e(n),type:"radio",onFocus:p[1]||(p[1]=$=>c.value=!0),onBlur:p[2]||(p[2]=$=>c.value=!1),onChange:i,onClick:p[3]||(p[3]=V(()=>{},["stop"]))},null,42,$e),[[W,e(v)]]),y("span",{class:g(e(a).e("inner"))},null,2)],2),y("span",{class:g(e(a).e("label")),onKeydown:p[4]||(p[4]=V(()=>{},["stop"]))},[P(u.$slots,"default",{},()=>[j(x(u.label),1)])],34)],2)}}});var Ce=N(ke,[["__file","radio.vue"]]);const we=E({...J}),Pe=["value","name","disabled"],Ne=S({name:"ElRadioButton"}),Ge=S({...Ne,props:we,setup(l){const o=l,t=w("radio"),{radioRef:a,focus:d,size:s,disabled:c,modelValue:r,radioGroup:n,actualValue:v}=le(o),f=b(()=>({backgroundColor:(n==null?void 0:n.fill)||"",borderColor:(n==null?void 0:n.fill)||"",boxShadow:n!=null&&n.fill?`-1px 0 0 0 ${n.fill}`:"",color:(n==null?void 0:n.textColor)||""}));return(i,u)=>{var p;return z(),B("label",{class:g([e(t).b("button"),e(t).is("active",e(r)===e(v)),e(t).is("disabled",e(c)),e(t).is("focus",e(d)),e(t).bm("button",e(s))])},[K(y("input",{ref_key:"radioRef",ref:a,"onUpdate:modelValue":u[0]||(u[0]=I=>X(r)?r.value=I:null),class:g(e(t).be("button","original-radio")),value:e(v),type:"radio",name:i.name||((p=e(n))==null?void 0:p.name),disabled:e(c),onFocus:u[1]||(u[1]=I=>d.value=!0),onBlur:u[2]||(u[2]=I=>d.value=!1),onClick:u[3]||(u[3]=V(()=>{},["stop"]))},null,42,Pe),[[W,e(r)]]),y("span",{class:g(e(t).be("button","inner")),style:ie(e(r)===e(v)?e(f):{}),onKeydown:u[4]||(u[4]=V(()=>{},["stop"]))},[P(i.$slots,"default",{},()=>[j(x(i.label),1)])],38)],2)}}});var oe=N(Ge,[["__file","radio-button.vue"]]);const Fe=E({id:{type:String,default:void 0},size:Z,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...de(["ariaLabel"])}),Ue=ee,Ae=["id","aria-label","aria-labelledby"],Le=S({name:"ElRadioGroup"}),De=S({...Le,props:Fe,emits:Ue,setup(l,{emit:o}){const t=l,a=w("radio"),d=T(),s=m(),{formItem:c}=Ee(),{inputId:r,isLabeledByFormItem:n}=ze(t,{formItemContext:c}),v=i=>{o(G,i),O(()=>o("change",i))};C(()=>{const i=s.value.querySelectorAll("[type=radio]"),u=i[0];!Array.from(i).some(p=>p.checked)&&u&&(u.tabIndex=0)});const f=b(()=>t.name||d.value);return ve(ae,q({...ce(t),changeEvent:v,name:f})),R(()=>t.modelValue,()=>{t.validateEvent&&(c==null||c.validate("change").catch(i=>pe()))}),H({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-radio-group",ref:"https://element-plus.org/en-US/component/radio.html"},b(()=>!!t.label)),(i,u)=>(z(),B("div",{id:e(r),ref_key:"radioGroupRef",ref:s,class:g(e(a).b("group")),role:"radiogroup","aria-label":e(n)?void 0:i.label||i.ariaLabel||"radio-group","aria-labelledby":e(n)?e(c).labelId:void 0},[P(i.$slots,"default")],10,Ae))}});var te=N(De,[["__file","radio-group.vue"]]);be(Ce,{RadioButton:oe,RadioGroup:te});const Me=Y(te),Te=Y(oe),Ke=[{value:"01",label:"水泥工業"},{value:"02",label:"食品工業"},{value:"03",label:"塑膠工業"},{value:"04",label:"紡織纖維"},{value:"05",label:"電機機械"},{value:"06",label:"電器電纜"},{value:"08",label:"玻璃陶瓷"},{value:"09",label:"造紙工業"},{value:"10",label:"鋼鐵工業"},{value:"11",label:"橡膠工業"},{value:"12",label:"汽車工業"},{value:"14",label:"建材營造"},{value:"15",label:"航運業"},{value:"16",label:"觀光餐旅"},{value:"17",label:"金融保險"},{value:"18",label:"貿易百貨"},{value:"19",label:"綜合"},{value:"20",label:"其他"},{value:"21",label:"化學工業"},{value:"22",label:"生技醫療業"},{value:"23",label:"油電燃氣業"},{value:"24",label:"半導體業"},{value:"25",label:"電腦及週邊設備業"},{value:"26",label:"光電業"},{value:"27",label:"通信網路業"},{value:"28",label:"電子零組件業"},{value:"29",label:"電子通路業"},{value:"30",label:"資訊服務業"},{value:"31",label:"其他電子業"},{value:"32",label:"文化創意業"},{value:"33",label:"農業科技業"},{value:"34",label:"電子商務"},{value:"35",label:"綠能環保"},{value:"36",label:"數位雲端"},{value:"37",label:"運動休閒"},{value:"38",label:"居家生活"},{value:"80",label:"管理股票"}],We={style:{height:"100%"}},Xe={class:"mt-20 mb-20"},je={style:{width:"100%",height:"80%"}},xe="#FF5B5B",Oe="#ff3737",qe="#91F840",Ye="#6fda1a",He={__name:"heatMap",setup(l){const o=m(null),t=m(null),a=m("IX0001"),d=m("industry"),s=q({loading:!0,data:{}});C(async()=>{c()});const c=async()=>{if(s.loading=!0,s.data=await me.Stock.getStockHeatMap(a.value),d.value=="industry")s.data.data.splice(0,1),s.data.data=s.data.data.filter(r=>r.type=="INDEX"),s.data.data=s.data.data.map(r=>({...r,name:`${r.name.replace("指數","").replace("櫃買","")}
${r.changePercent}%`,value:[r.tradeValue,r.changePercent]}));else{let r=s.data.data.filter(n=>n.type=="EQUITY");s.data.data=[],Ke.forEach(n=>{let v=r.filter(u=>n.value==u.industry),f=v.reduce((u,p)=>u+p.marketValueWeight,0),i={name:n.label,path:n.label,value:f};i.children=[...v],i.children=i.children.map(u=>({...u,name:`${u.name}
${u.changePercent}%`,path:`${i.name}/${u.name}`,value:[u.marketValueWeight,u.changePercent]})),s.data.data.push(i)})}t.value={series:[{name:"發行量加權股價指數",type:"treemap",data:s.data.data,visualDimension:1,upperLabel:{show:!0,height:30,backgroundColor:"#000",textStyle:{color:"#ffffff",fontSize:14,fontWeight:"bold"}}}],visualMap:{type:"continuous",min:-10,max:10,inRange:{color:[qe,Ye,"#007500","#3C3C3C","#750000",Oe,xe]},calculable:!0,orient:"horizontal",left:"10%"}},s.loading=!1};return(r,n)=>{const v=Te,f=Me;return z(),B("div",We,[y("div",Xe,[h(f,{modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=i=>a.value=i),size:"large",onChange:c},{default:D(()=>[h(v,{label:"上市",value:"IX0001"}),h(v,{label:"上櫃",value:"IX0043"})]),_:1},8,["modelValue"]),h(f,{modelValue:d.value,"onUpdate:modelValue":n[1]||(n[1]=i=>d.value=i),size:"large",class:"ml-5",onChange:c},{default:D(()=>[h(v,{label:"產業",value:"industry"}),h(v,{label:"個股",value:"stock"})]),_:1},8,["modelValue"])]),y("div",je,[h(e(ge),{ref_key:"chart",ref:o,option:t.value,loading:s.loading,autoresize:""},null,8,["option","loading"])])])}}},Je=fe(He,[["__scopeId","data-v-f9b95a53"]]);export{Je as default};
